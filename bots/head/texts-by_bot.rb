# # —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞
B_choose_language       = "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ / Choose language"
B_choose_action         = {Ru=>'–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é',              En=>'Choose action in menu'}
B_await_username_or_id  = {
  Ru=>'–û—Ç–ø—Ä–∞–≤—å—Ç–µ username –∏–ª–∏ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É',
  En=>'Send username or user id or select from the contact list by clicking on the button'
}
B_userTo_not_found      = {Ru=>'–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω',                 En=>'User not found'}
B_userTo_not_subscr     = {Ru=>"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –±–æ—Ç–∞",       En=>"The user is not subscribed to the bot"}
B_userTo_comments       = {Ru=>'–û—Ç–∑—ã–≤—ã –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ',                  En=>'Users comments'}
B_disputs_by_userTo     = {Ru=>'–°–ø–æ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',                     En=>'Users disputs'}
B_choose_role           = {Ru=>'–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å',                          En=>'Choose role'}
B_currency_types        = {Ru=>'–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É —Å–¥–µ–ª–∫–∏',                 En=>'Choose currency type'}
B_push_amount_currency  = {Ru=>'–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —Å–¥–µ–ª–∫–∏ –≤',                 En=>'Enter the transaction amount in'}
B_push_conditions       = {Ru=>'–í–≤–µ–¥–∏—Ç–µ —É—Å–ª–æ–≤–∏—è —Å–¥–µ–ª–∫–∏',                 En=>'Enter deal conditions'}
B_invalid_amount        = {Ru=>'–ù–µ –≤–∞–ª–∏–¥–Ω–æ–µ —á–∏—Å–ª–æ',                      En=>'Invalid amount'}
B_reject_deal_self      = {Ru=>'–í—ã –æ—Ç–º–µ–Ω–∏–ª–∏ —Å–¥–µ–ª–∫—É',                     En=>'You canceled the deal'}
B_info                  = {Ru=>'–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤—Ç–µ–ª–µ',               En=>'User information'}
B_couse_disput          = {Ru=>'–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É —Å–ø–æ—Ä–∞',                  En=>'Specify the reason for the dispute'}
B_opened_disput         = {Ru=>'–û—Ç–∫—Ä—ã—Ç —Å–ø–æ—Ä',                            En=>'Dispute opened'}
B_request               = {Ru=>'–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω',                       En=>'Request has been sent'}

B_user               = {Ru=>"üë§–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:",          En=>"üë§User:"}
B_first_name         = {Ru=>"–ò–º—è:",                     En=>"First name:"}
B_last_name          = {Ru=>"–§–∞–º–∏–ª–∏—è:",                 En=>"Last name:"}
B_username           = {Ru=>"username:",                En=>"username:"}
B_user_id            = {Ru=>"id:",                      En=>"id:"}
B_deals_how_seller   = {Ru=>"üìà–°–¥–µ–ª–æ–∫ –∫–∞–∫ –ø—Ä–æ–¥–∞–≤–µ—Ü:",   En=>"üìàDeals how seller:"}
B_deals_how_custumer = {Ru=>"üìâ–°–¥–µ–ª–æ–∫ –∫–∞–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å:", En=>"üìâDeals how custumer:"}
B_dusputs            = {Ru=>"‚öñÔ∏è–°–ø–æ—Ä—ã:",                  En=>"‚öñÔ∏èDusputs:"}
B_comments           = {Ru=>"üì¨–û—Ç–∑—ã–≤—ã:",                En=>"üì¨Comments:"}
B_rating             = {Ru=>"‚≠êÔ∏è–†–µ–π—Ç–∏–Ω–≥:",               En=>"‚≠êÔ∏èRating:"}
B_deal_with          = {Ru=>"–°–¥–µ–ª–∫–∞ —Å ",                En=>"Deal with "}
B_conditions         = {Ru=>"–£—Å–ª–æ–≤–∏—è —Å–¥–µ–ª–∫–∏:",          En=>"Conditions:"}
B_amount_deal        = {Ru=>"C—É–º–º–∞ —Å–¥–µ–ª–∫–∏:",            En=>"Amount:"}
B_comission          = {Ru=>"–ö–æ–º–∏—Å—Å–∏—è –≥–∞—Ä–∞–Ω—Ç–∞:",        En=>"Comission:"}
B_amount_result      = {Ru=>"–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ:",          En=>"Result amount:"}
B_offer              = {Ru=>"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ",              En=>"Offer"}
B_from               = {Ru=>"–æ—Ç",                       En=>"from"}
B_to_buy             = {Ru=>"–ø–æ–∫—É–ø–∫–∏",                  En=>"to buy"}
B_to_sell            = {Ru=>"–ø—Ä–æ–¥–∞–∂–∏",                  En=>"to sell"}
B_deal_id            = {Ru=>"–°–¥–µ–ª–∫–∞ ",                  En=>"Deal "}
B_reject_deal        = {Ru=>"–û—Ç–∫–ª–æ–Ω–∏–ª —Å–¥–µ–ª–∫—É",          En=>"Reject deal"}
B_custumer           = {Ru=>"–ü–æ–∫—É–ø–∞—Ç–µ–ª—å",               En=>"Custumer"}
B_seller             = {Ru=>"–ü—Ä–æ–¥–∞–≤–µ—Ü",                 En=>"Seller"}
B_accessed           = {Ru=>"–ø—Ä–∏–Ω—è–ª —Å–¥–µ–ª–∫—É ‚Ññ",          En=>"accessed deal ‚Ññ"}
B_accessed_by_seller = {
  Ru=>"–ü—Ä–∏–Ω—è–ª —Å–¥–µ–ª–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –ø–µ—Ä–µ–¥–∞–π—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —Ö—Ä–∞–Ω–∏–Ω–∏–µ –≥–∞—Ä–∞–Ω—Ç—É",          
  En=>"Accepted the deal, to continue, transfer the funds for safekeeping to the guarant"
}
B_opened_by          = {Ru=>"–°–ø–æ—Ä –æ—Ç–∫—Ä—ã—Ç",              En=>"Dispute opened by"} 
B_by_seller          = {Ru=>"–ü—Ä–æ–¥–∞–≤—Ü–æ–º",                En=>"Seller"} 
B_by_custumer        = {Ru=>"–ü–æ–∫—É–ø–∞—Ç–µ–ª–µ–º",              En=>"Custumer"} 
###########################################
B_userTo_sub_info = ->(user = $userTo){
  text = ""
  text << "<b>#{B_first_name[$lg]}</b> #{user.first_name } \n" if user.first_name != '-'
  text << "<b>#{B_last_name[$lg] }</b> #{user.last_name  } \n" if user.last_name  != '-'
  text << "<b>#{B_username[$lg]  }</b> @#{user.username   } \n" if user.username   != '-'
  text << "<b>#{B_user_id[$lg]   }</b> #{user.telegram_id}\n"
}

B_deal_hash = ->(model = $user){
"<b>#{B_deal_id[$lg]}</b> ##{model.hash_name}"}

B_deal_data = ->(model = $user){
%{<b>#{B_conditions[$lg]}</b>
#{model.conditions}
#{B_amount_deal[$lg]  } <b>#{model.amount} #{model.currency}</b>
#{B_comission[$lg]    } <b>999</b>
#{B_amount_result[$lg]} <b>999</b>}}
###########################################
B_userTo_info = ->{
%{<b>#{B_user[$lg]}</b>
#{B_userTo_sub_info.call}
<b>#{B_deals_how_seller[$lg]}</b>
<b>#{B_deals_how_custumer[$lg]}</b>
<b>#{B_dusputs[$lg]}</b>
<b>#{B_comments[$lg]}</b>

<b>#{B_rating[$lg]}</b> 5/5}}

B_confirm_deal = ->{
%{#{B_deal_with[$lg]} <b>#{B_user[$lg]}</b>
#{B_userTo_sub_info.call}
#{B_deal_data.call}}}

B_request_deal_self = ->{
  return "–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–¥–µ–ª–∫y ##{$deal.hash_name} —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, –æ–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"       if $lg == Ru
  return "Request to deal ##{ $deal.hash_name} sent successfully, please wait for confirmation" if $lg == En
}

B_request_deal_to_userTo = ->(action){
%{#{B_offer[$lg]} #{action} #{B_from[$lg]}
#{B_userTo_sub_info.call($user)}
#{B_deal_hash.call}
#{B_deal_data.call}}}

B_reject_deal_userTo = ->{
%{#{B_deal_id[$lg]} ##{$deal.hash_name}
<b>#{B_user[$lg]}</b>
#{B_userTo_sub_info.call($user)} 
#{B_reject_deal[$lg]}}}

B_request_deal_to_custumer = ->{
%{#{B_seller[$lg]}
#{B_userTo_sub_info.call($user)}
#{B_accessed_by_seller[$lg]}}}

B_success_notify = {
  Ru=>"–ü—Ä–∏–Ω—è–ª —Å–¥–µ–ª–∫—É, —Å—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω—ã –Ω–∞ —Å—á–µ—Ç—É –≥–∞—Ä–∞–Ω—Ç–∞, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ–≤–∞—Ä/–æ–∫–∞–∑–∞—Ç—å —É—Å–ª—É–≥—É.\n–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É –º–æ–∂–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å. –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫ —Å–ø–æ—Ä, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞, –ø–µ—Ä–µ–π–¥—è –≤ —Ä–∞–∑–¥–µ–ª '–°–¥–µ–ª–∫–∏'.",
  En=>"I accepted the deal, the funds are frozen on the account of the guarantor, you can transfer the goods / provide the service.\nThe buyer can complete the transaction. If you have a dispute, you can call a moderator by going to the 'Deals' section."
}

B_notifi_to_seller_success_payed = ->{
%{#{B_deal_id[$lg]} ##{$deal.hash_name}
#{B_custumer[$lg]}
#{B_userTo_sub_info.call($user)}
#{B_success_notify[$lg]}}}

B_notify_to_custumer_success_payed = {
  Ru=>'–°—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–∞—Ä–∞–Ω—Ç—É', 
  En=>'The funds were transferred to the safekeeping of the guarant'
}

# ü§ù–°–¥–µ–ª–∫–∏ü§ù'

B_none_deals_active = {Ru=>'–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–¥–µ–ª–æ–∫', En=>'You don`t have any active deals'}
B_deal_full_info = ->(deal) {
%{#{B_deal_with[$lg]} <b>#{B_user[$lg]}</b>
#{B_userTo_sub_info.call}
#{B_deal_hash.call}
#{B_deal_data.call(deal)}}}


B_disput_offer = -> (seller, custumer, deal, dispute, initiator, lg){
  text = "<b>–ü—Ä–æ–¥–∞–≤–µ—Ü</b>\n"
  text << "<b>#{B_first_name[lg]}</b> #{seller.first_name } \n" if seller.first_name != '-'
  text << "<b>#{B_last_name[lg] }</b> #{seller.last_name  } \n" if seller.last_name  != '-'
  text << "<b>#{B_username[lg]  }</b> @#{seller.username  } \n" if seller.username   != '-'
  text << "<b>#{B_user_id[lg]   }</b> #{seller.telegram_id}\n"
  text << "\n"
  text << "<b>–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</b>\n"
  text << "<b>#{B_first_name[lg]}</b> #{custumer.first_name } \n" if custumer.first_name != '-'
  text << "<b>#{B_last_name[lg] }</b> #{custumer.last_name  } \n" if custumer.last_name  != '-'
  text << "<b>#{B_username[lg]  }</b> @#{custumer.username  } \n" if custumer.username   != '-'
  text << "<b>#{B_user_id[lg]   }</b> #{custumer.telegram_id}\n"  
  text << "\n"
  text << "<b>#{B_deal_id[lg]}</b> ##{deal.hash_name}\n"
  text << "<b>#{B_conditions[lg]}</b>\n"
  text << "#{deal.conditions}\n"
  text << "<b>#{B_amount_deal[lg]}</b> #{deal.amount}\n"
  text << "<b>#{B_comission[lg]}</b> 999\n"
  text << "<b>#{B_amount_result[lg]}</b> 999\n"
  text << "\n"
  text << "#{B_opened_by[lg]} <b>#{initiator}</b>\n"
  text << "#{dispute.content}"
  text 
}
B_dispute_comment = -> (dispute){
  desision = dispute.dispute_lost
  text = "\n"
  case desision
  when 'seller_lost'
    text += "–≤—ã–π–≥—Ä–∞–ª –ü–æ–∫—É–ø–∞—Ç–µ–ª—å"
  when 'custumer_lost'
    text += "–≤—ã–π–≥—Ä–∞–ª –ü—Ä–æ–¥–∞–≤–µ—Ü"
  when 'all_lost'
    text += "–ø—Ä–æ–∏–≥—Ä–∞–ª–∏ –∏ –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –∏ –ü—Ä–æ–¥–∞–≤–µ—Ü –∏–∑-–∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è"
  end
    text += "\n –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ @#{dispute.moderator.username} :\n #{dispute.comment_by_moderator}"
}

# üë®‚Äçüíº–ü—Ä–æ—Ñ–∏–ª—åüë®‚Äçüíº
B_empty_wallet = {Ru=>'–ö–æ—à–µ–ª—ë–∫ –ø—É—Å—Ç',    En=>'Wallet is empty'}
B_wallet       = {Ru=>'–£ –≤–∞—Å –≤ –∫–æ—à–µ–ª—å–∫–µ',En=>'In your wallet'}
B_view_wallet = {
wallet_content = B_wallet[$lg] + "\n\n"
$user.wallet.each do |obj|
  currency = obj.keys.first
  amount   = obj.values.first
  wallet_content += "#{currency} -- #{amount} \n"
end
wallet_content
}