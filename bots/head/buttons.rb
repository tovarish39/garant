# Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ
T_find_user        = {Ru=>'ðŸ”ŽÐÐ°Ð¹Ñ‚Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑðŸ”Ž',En=>'ðŸ”ŽFind_userðŸ”Ž'}
T_deals            = {Ru=>'ðŸ¤Ð¡Ð´ÐµÐ»ÐºÐ¸ðŸ¤',            En=>'ðŸ¤DealsðŸ¤'    }
T_profile          = {Ru=>'ðŸ‘¨â€ðŸ’¼ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒðŸ‘¨â€ðŸ’¼',           En=>'ðŸ‘¨â€ðŸ’¼ProfileðŸ‘¨â€ðŸ’¼'  }
T_help             = {Ru=>'ðŸ˜±ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒðŸ˜±',            En=>'ðŸ˜±HelpðŸ˜±'     }


T_start_actions = [
  T_find_user[Ru], T_find_user[En],
  T_deals[Ru],     T_deals[En],
  T_profile[Ru],   T_profile[En],
  T_help[Ru],      T_help[En],
  '/start'
]


Arr_cryptoCurrecues = ['BTC', 'ETH']



# # Ñ‚ÐµÐºÑÑ‚ ÐºÐ½Ð¾Ð¿Ð¾Ðº 
T_cancel         = {Ru=>'ÐžÑ‚Ð¼ÐµÐ½Ð°',                En=>'Cancel'}
T_select_contact = {Ru=>'Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚',       En=>'Select contact'}
T_offer_deal     = {Ru=>'ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ ÑÐ´ÐµÐ»ÐºÑƒ',     En=>'Offer a deal'}
T_comments       = {Ru=>'ÐžÑ‚Ð·Ñ‹Ð²Ñ‹',                En=>'Comments'}
T_disputs        = {Ru=>'Ð¡Ð¿Ð¾Ñ€Ñ‹',                 En=>'Disputes'}
T_back           = {Ru=>'ÐÐ°Ð·Ð°Ð´',                 En=>'Back'}
T_wons           = {Ru=>'Ð’Ñ‹Ð¹Ð³Ñ€Ð°Ð» ÑÐ¿Ð¾Ñ€Ð¾Ð²',        En=>'Won disputs'}
T_losts          = {Ru=>'ÐŸÑ€Ð¾Ð¸Ð³Ñ€Ð°Ð» ÑÐ¿Ð¾Ñ€Ð¾Ð²',       En=>'Lost disputs'}
T_custumer       = {Ru=>'Ð¯ Ð¿Ð¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»ÑŒ',          En=>'I`m custumer'}
T_seller         = {Ru=>'Ð¯ Ð¿Ñ€Ð¾Ð´Ð°Ð²ÐµÑ†',            En=>'I`m seller'}
T_cryptos        = {Ru=>'ÐšÑ€Ð¸Ð¿Ñ‚Ð¾Ð²Ð°Ð»ÑŽÑ‚Ð°',          En=>'Crypto-Currencies'}
T_another        = {Ru=>'Ð”Ñ€ÑƒÐ³Ð¾Ðµ',                En=>'Another'}
T_confirm        = {Ru=>'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ',           En=>'Confirm'}
T_accept         = {Ru=>'ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ',               En=>'Accept'}
T_reject         = {Ru=>'ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ',             En=>'Reject'}
T_active         = {Ru=>'ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ',              En=>'Active'}
T_deals_history  = {Ru=>'Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ ÑÐ´ÐµÐ»Ð¾Ðº',        En=>'Deals history'}
T_cancel_deal    = {Ru=>'ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ´ÐµÐ»ÐºÑƒ',       En=>'Cancel deal'}
T_open_disput    = {Ru=>'ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐ¿Ð¾Ñ€',          En=>'Open disput'}
T_finish_deal    = {Ru=>'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ',           En=>'Confirm'}
T_seller_lost    = {Ru=>'ÐŸÑ€Ð¾Ð´Ð°Ð²ÐµÑ† Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ð°Ð»',     En=>'Seller lost'}
T_custumer_lost  = {Ru=>'ÐŸÐ¾ÐºÑƒÐ¿Ð°Ñ‚ÐµÐ»ÑŒ Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ð°Ð»',   En=>'Custumer lost'}
T_all_lost       = {Ru=>'ÐÐ°Ñ€ÑƒÑˆÐµÐ½Ð¸Ðµ',             En=>'Nonobservance'}
T_extract        = {Ru=>'Ð’Ñ‹Ð²ÐµÑÑ‚Ð¸',               En=>'Extract'}


# # reply_markupsnonobservance
RM_start = -> {RM.call([T_find_user[$lg], T_deals[$lg], [T_profile[$lg], T_help[$lg]]])}
RM_cancel_to_start         = ->{ RM.call( [
  [{text:T_select_contact[$lg], request_user:{request_id:111}}],
   T_cancel[$lg]   
])}
# :deals_menu
RM_deals_menu =->{RM.call([T_active[$lg], T_deals_history[$lg], T_disputs[$lg], T_back[$lg]])}
RM_cancel     =->{RM.call([T_cancel[$lg]])}

# # inline buttons
# :language
IB_rus                    =    IB.call( Ru,                        "#{Ru}/Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ ÑÐ·Ñ‹Ðº")
IB_en                     =    IB.call( En,                        "#{En}/Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ ÑÐ·Ñ‹Ðº")
# :await_userTo_data
# UserToActions
IB_offer_deal             = -> {IB.call( T_offer_deal[$lg],      "Offer_deal/#{            $userTo.id}")}
IB_comments               = -> {IB.call( T_comments[$lg],        "Comments/#{              $userTo.id}")}
IB_disputes               = -> {IB.call( T_disputs[$lg],        "Disputs/#{               $userTo.id}")}
# TypeOfDisputs Comments Role CurrenyTypes
IB_back_to_userTo_actions = -> {IB.call( T_back[$lg],            "Back_to userTo_actions/#{$userTo.id}")}
# TypeOfDisputsB_await_username_or_id
IB_won_disputs             = ->{IB.call("#{T_wons[$lg]} (111)",  "Won_disputs/#{           $userTo.id}")}
IB_lost_disputs            = ->{IB.call("#{T_losts[$lg]} (111)", "Lost_disputs/#{          $userTo.id}")}
# WonDisputs LostDisputs
IB_back_to_type_of_disputs = ->{IB.call( T_back[$lg],            "Back_to TypeOfDisputs/#{ $userTo.id}")}
# Role
IB_custumer               = ->{IB.call(T_custumer[$lg],          "I`m custumer/#{          $userTo.id}")}
IB_seller                 = ->{IB.call(T_seller[$lg],            "I`m seller/#{            $userTo.id}")}
# CurrencyTypes
IB_crypto_currencies      = ->{IB.call(T_cryptos[$lg],           "Criptocurrencies/#{      $userTo.id}")}
IB_another                = ->{IB.call(T_another[$lg],           "Another/#{               $userTo.id}")}
# Currencies
IB_Arr_cryptocurrecues    = ->{ Arr_cryptoCurrecues.map {|crypto| IB.call(crypto, "Currency/#{crypto}/#{$userTo.id}")}}
IB_back_to_CurrencyTypes  = ->{ IB.call(T_back[$lg],             "back_to CurrencyTypes/#{ $userTo.id}")}   
# :confirmation_new_deal
IB_cofirm_new_deal        = ->{IB.call(T_confirm[$lg],           "Confirming_new_deal/#{   $userTo.id}")}   
IB_cancel_new_deal        = ->{IB.call(T_cancel[$lg],            "Cancel_new_deal/#{       $userTo.id}")}

# ðŸ¤Ð¡Ð´ÐµÐ»ÐºÐ¸ðŸ¤ 
## :deals_active
IB_cancel_exist_deal = ->(deal){IB.call(T_cancel_deal[$lg],       "Cancel_exist_deal/#{deal.id}")}
IB_open_disput       = ->(deal){IB.call(T_open_disput[$lg],       "Open_disput/#{      deal.id}")}
IB_finish_deal       = ->(deal){IB.call(T_finish_deal[$lg],       "Finish_deal/#{      deal.id}")}

# from_all_states
IB_accept                 = ->{IB.call(T_accept[$lg],            "Accept/#{$deal.id}")}
IB_reject                 = ->{IB.call(T_reject[$lg],            "Reject/#{$deal.id}")}

# mod-bot
IB_seller_lost   = ->(dispute, lg){IB.call(T_seller_lost[lg],   "Decision/seller_lost/#{  dispute.id}")}
IB_custumer_lost = ->(dispute, lg){IB.call(T_custumer_lost[lg], "Decision/custumer_lost/#{dispute.id}")}
IB_all_lost      = ->(dispute, lg){IB.call(T_all_lost[lg],      "Decision/all_lost/#{dispute.id}")}

# ðŸ‘¨â€ðŸ’¼ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒðŸ‘¨â€ðŸ’¼
IB_extract       = -> {IB.call(T_extract[$lg],  "Extract")}



# # inline markups
IM_languages               =     IM.call([[IB_rus, IB_en]])
IM_offer_deal              = ->{ IM.call([ IB_offer_deal.call, IB_comments.call, IB_disputes.call])}
IM_back_to_userTo_actions  = ->{ IM.call(  IB_back_to_userTo_actions.call)}
IM_type_of_disputs         = ->{ IM.call([ IB_won_disputs.call, IB_lost_disputs.call, IB_back_to_userTo_actions.call])}
IM_back_to_type_of_disputs = ->{ IM.call(  IB_back_to_type_of_disputs.call)}
IM_role                    = ->{ IM.call([ IB_custumer.call, IB_seller.call, IB_back_to_userTo_actions.call])}
IM_currency_types          = ->{ IM.call( [IB_crypto_currencies.call, IB_another.call, IB_back_to_userTo_actions.call])}
IM_cryptocurrencies        = ->{ IM.call(  IB_Arr_cryptocurrecues.call << IB_back_to_CurrencyTypes.call)}
IM_confirm_deal            = ->{ IM.call([ IB_cofirm_new_deal.call, IB_cancel_new_deal.call])}
IM_accept_reject           = ->{ IM.call([ IB_accept.call, IB_reject.call])}
# ðŸ¤Ð¡Ð´ÐµÐ»ÐºÐ¸ðŸ¤ 
IM_seller_deal_actions     = ->(deal){IM.call([IB_cancel_exist_deal.call(deal), IB_open_disput.call(deal)])}
IM_custumer_deal_actions   = ->(deal){IM.call([IB_finish_deal.call(deal), IB_open_disput.call(deal)])}
# ðŸ‘¨â€ðŸ’¼ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒðŸ‘¨â€ðŸ’¼
IM_extract                 = ->(IM.call(IB.call(IB_extract.call)))



#########################################
# mod-bot
IM_dispute_offer    = -> (dispute, lg) {IM.call(IB.call(T_accept[lg], "Accept/#{dispute.id}"))}
IM_decision_actions = -> (dispute, lg) {IM.call([
  IB_seller_lost.call(dispute, lg),
  IB_custumer_lost.call(dispute, lg),
  IB_all_lost.call(dispute, lg)
])}